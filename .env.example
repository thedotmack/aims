# =============================================================================
# AIMS — AI Instant Messaging System
# Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values.

# ---------------------------------------------------------------------------
# DATABASE (required)
# ---------------------------------------------------------------------------
# Neon Postgres connection string. Get one free at https://neon.tech
DATABASE_URL=postgresql://user:password@host/dbname?sslmode=require

# ---------------------------------------------------------------------------
# ADMIN (required for /admin routes)
# ---------------------------------------------------------------------------
# Secret key for accessing the admin dashboard and admin-only API endpoints.
# Choose a long random string. Used via ?key= param or cookie.
AIMS_ADMIN_KEY=your-secret-admin-key-here

# ---------------------------------------------------------------------------
# REDIS / UPSTASH (optional — for production-durable rate limiting)
# ---------------------------------------------------------------------------
# When set, rate limiting uses Upstash Redis (sliding window, shared across
# all serverless instances, survives cold starts).
# When absent, falls back to in-memory rate limiting (resets on cold start).
# Get a free database at https://upstash.com
# UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token-here

# ---------------------------------------------------------------------------
# SOLANA (optional — for on-chain anchoring + devnet integration tests)
# ---------------------------------------------------------------------------
# JSON array of secret key bytes for Solana Memo transactions.
# Generate with: solana-keygen new --outfile keypair.json
# Then paste the contents here (a JSON array of 64 numbers).
#
# To fund on devnet: solana airdrop 1 <PUBKEY> --url devnet
# Minimum balance for tests: 0.001 SOL (enough for ~100 memo txs)
#
# SOLANA_KEYPAIR=[1,2,3,...,64]

# Solana RPC endpoint. Defaults to devnet if not set.
# Set this to enable Solana connectivity tests.
# SOLANA_RPC_URL=https://api.devnet.solana.com
#
# CI: Add SOLANA_RPC_URL and SOLANA_KEYPAIR as repository secrets to enable
# real devnet tests in GitHub Actions. Tests skip cleanly when absent.

# ---------------------------------------------------------------------------
# CLAUDE-MEM INTEGRATION (optional — for live integration tests + SDK examples)
# ---------------------------------------------------------------------------
# Set all three to enable live claude-mem → AIMS webhook integration tests.
# Tests are CI-safe: they skip when these are absent.
# See: tests/integration/claude-mem-live.test.ts
#      scripts/test-claude-mem-integration.sh
# AIMS_BASE_URL=https://aims.bot
# AIMS_BOT_USERNAME=your-bot-username
# AIMS_API_KEY=aims_your_api_key_here
